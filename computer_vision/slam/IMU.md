[TOC]

#### 陀螺仪

​         一个物体以固定的线速度v运动，同时受到一个角速度的影响，这时候在叉乘方向会有一个科氏力的作用，测量这个力便能直到角速度W的大小。
         在实际的MEME传感器中，大致结构如图，在一个方向保持左右运动，若有旋转的角速度则会在垂直的方向产生科氏力，通过电容的变化来反应这个力的大小便能得到旋转速度的大小。



​        科里[奥利](https://baike.baidu.com/item/%E5%A5%A5%E5%88%A9/2434236)力（Coriolis force）有些地方也称作哥里奥利力，简称为科氏力，是对旋转体系中进行直线运动的质点由于[惯性](https://baike.baidu.com/item/%E6%83%AF%E6%80%A7/3595487)相对于旋转体系产生的直线运动的偏移的一种描述。科里奥利力来自于物体运动所具有的惯性。

​          科里奥利力的计算公式：F=2m(wxv); 

 m是为质量，v是质点速度，w是旋转体系的角速度，x表示外积



​        角速度：假设某质点做[圆周运动](https://baike.baidu.com/item/%E5%9C%86%E5%91%A8%E8%BF%90%E5%8A%A8/1532524)，在Δt时间内转过的角为Δθ. Δθ与Δt的比值，描述了物体绕[圆心](https://baike.baidu.com/item/%E5%9C%86%E5%BF%83/66542)运动的快慢，这个比值叫做角速度，用符号ω表示：

​       角速度**ω**是矢量。按[右手螺旋定则](https://baike.baidu.com/item/%E5%8F%B3%E6%89%8B%E8%9E%BA%E6%97%8B%E5%AE%9A%E5%88%99/2948936)，大拇指方向为**ω**方向。当质点作逆时针旋转时，**ω**向上；作顺时针旋转时，**ω**向下。



​      外积：把向量外积定义为： 

​      符号表示：**a**× **b**  大小：|**a**|·|**b**|·sin<**a**,**b**>.

​      方向：右手定则：若坐标系是满足右手定则的，设**z**=**x**×**y**,|**z**|=|**x||y**|*sin<**x**,**y**>；则**x**,**y**,**z**构成右手系，伸开右手手掌，四个手指从x轴正方向方向转到y轴正方面，则大拇指方向即为z正轴方向。



#### 加速度计

​         加速度计的原理较为简单，就是通过**牛顿第二定律**来测量三轴的加速度，图中的质量块受到加速度的作用会左右运动，而两侧的电容能测量质量块的位置从而计算出加速度的大小。 

​        牛顿第二运动定律：物体加速度的大小跟作用力成正比，跟物体的质量成反比，且与物体质量的倒数成正比；加速度的方向跟作用力的方向相同。

​        F=ma

​       



## 传感器的噪声及去除

### 陀螺仪

​       陀螺仪直接测量的是角速度而非角度，所以需要通过一次积分才能得到角度值。在积分的过程中若有固定的、某一个方向的数据则会在积分的过程中不断加大影响导致角度偏差。通常来说陀螺仪的温漂是比较严重的，基本上温漂是正比于芯片的价格，越贵的片子漂的越少。温漂的数据既与温度相关又与时间相关，也就是说不同温度下不一样，不同上电时间下也不一样。通常的简单做法就是在上电的时候静止一段时间计算出此时的零偏，然后每次减去零偏。更高级的方法需要标定温度与零偏的关系，然后线性插补



### 加速度计

​        对于加速度机同样会有**零漂**和**尺度因子**的误差，但是加速度计在静止时可直接得到角度不用积分，所以零漂的影响很小，但是尺度因子的影响较大。同样是重力加速度、各个面朝下时检测到的数值是不一样的，一般来说校准的方法有六面校准。就是各个面朝下然后记录重力的数值，计算得到尺度因子。目前mems传感器的精度已经比较高了，很多情况下只用正面朝上校准一次便可（仅适用于无人机）若要求不高，可不去校准加速度计，而对于云台有其他的校准思路。



### 磁力计

​        磁力计的数据误差较大，校准便显得很重要。一般可以导出数据到matlab中然后采用椭球校准的方法，但是这样比较麻烦。而大多数飞控的做法都是直接在单片机上处理的，步骤如下：先头朝上，水平旋转一周，然后头朝下，再水平旋转一周。若计算能力有限，可直接求最大最小数据的中值，得到偏差，然后计算幅值。



## 姿态解算原理

IMU的算法紧紧的围绕着如何利用这三个元器件获得准确的姿态，基本要求有几点

1. 滞后效应不明显
2. 角度准确
3. 静止时角度不漂
   但很多时候都无法满足所有的要求，需要根据实际情况的需求来有所取舍。

 

### 陀螺仪

陀螺仪获得角度的方法很简单，直接积分就好了。但是直接积分却会带来巨大的误差。

### 加速度计

加速度计的作用便是直接测量出pitch和roll角度，对积分得到的角度做一个矫正。

### 磁力计

磁力计可以看成一个指南针，可以对yaw轴角度进行一个矫正。具体的计算公式也比较简单，注意在套用公式前需要对数据进行倾斜补偿。