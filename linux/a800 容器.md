



```shell
dpkg -l | grep nvidia

lsmod | grep nvidia

rmmod nvidia_uvm

lsof /dev/nvidia*


python -c "import torch; torch.randn(1).cuda()"


export LD_LIBRARY_PATH="/usr/local/cuda-11.3/lib64:$LD_LIBRARY_PATH" 

```





```shell
export TERM=xterm

./NVIDIA-Linux-x86_64-470.161.03.run --no-opengl-files --no-x-check



```



```shell
nvidia-installer log file '/var/log/nvidia-installer.log'
creation time: Wed Jul 26 08:45:08 2023
installer version: 470.161.03

PATH: /opt/conda/bin:/usr/local/nvidia/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

nvidia-installer command line:
    ./nvidia-installer
    --no-opengl-files
    --no-x-check

Unable to load: nvidia-installer ncurses v6 user interface

Using: nvidia-installer ncurses user interface
-> Detected 128 CPUs online; setting concurrency level to 32.
ERROR: An NVIDIA kernel module 'nvidia-uvm' appears to already be loaded in your kernel.  This may be because it is in use (for example, by an X server, a CUDA program, or the NVIDIA Persistence Daemon), but this may also happen if your kernel was configured without support for module unloading.  Please be sure to exit any programs that may be using the GPU(s) before attempting to upgrade your driver.  If no GPU-based programs are running, you know that your kernel supports module unloading, and you still receive this message, then an error may have occurred that has corrupted an NVIDIA kernel module's usage count, for which the simplest remedy is to reboot your computer.
ERROR: Installation has failed.  Please see the file '/var/log/nvidia-installer.log' for details.  You may find suggestions on fixing installation problems in the README available on the Linux driver download page at www.nvidia.com.
```

